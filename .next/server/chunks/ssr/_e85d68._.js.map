{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/frank/Documents/projects%20/ticketing_app/app/%28components%29/EditTicketForm.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nconst EditTicketForm = ({ ticket }) => {\n  const router = useRouter();\n  const EDITMODE = ticket._id !== \"new\";\n  const categories = [\n    \"Hardware Problem\",\n    \"Software Problem\",\n    \"Application Development\",\n    \"Project\",\n  ];\n\n  // Default state data for a new ticket\n  const defaultTicketData = {\n    title: \"\",\n    description: \"\",\n    priority: 1,\n    progress: 0,\n    status: \"not started\",\n    category: \"Hardware Problem\",\n  };\n\n  // State to hold form data\n  const [formData, setFormData] = useState(defaultTicketData);\n\n  // Update formData if ticket is in edit mode\n  useEffect(() => {\n    if (EDITMODE) {\n      setFormData({\n        title: ticket.title,\n        description: ticket.description,\n        priority: ticket.priority,\n        progress: ticket.progress,\n        status: ticket.status,\n        category: ticket.category,\n      });\n    }\n  }, [EDITMODE, ticket]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const res = await fetch(\n      EDITMODE ? `/api/Tickets/${ticket._id}` : \"/api/Tickets\",\n      {\n        method: EDITMODE ? \"PUT\" : \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(formData),\n      }\n    );\n\n    if (!res.ok) {\n      throw new Error(\n        EDITMODE ? \"Failed to update ticket\" : \"Failed to create ticket\"\n      );\n    }\n\n    router.refresh();\n    router.push(\"/\");\n  };\n\n  return (\n    <div className=\"flex justify-center\">\n      <form onSubmit={handleSubmit} className=\"flex flex-col gap-3 w-1/2\">\n        <h3>{EDITMODE ? \"Update Your Ticket\" : \"Create New Ticket\"}</h3>\n        <label>Title</label>\n        <input\n          id=\"title\"\n          name=\"title\"\n          type=\"text\"\n          onChange={handleChange}\n          required\n          value={formData.title}\n        />\n        <label>Description</label>\n        <textarea\n          id=\"description\"\n          name=\"description\"\n          onChange={handleChange}\n          required\n          value={formData.description}\n          rows=\"5\"\n        />\n        <label>Category</label>\n        <select\n          name=\"category\"\n          value={formData.category}\n          onChange={handleChange}\n        >\n          {categories.map((category, index) => (\n            <option key={index} value={category}>\n              {category}\n            </option>\n          ))}\n        </select>\n\n        <label>Priority</label>\n        <div>\n          {[1, 2, 3, 4, 5].map((priority) => (\n            <div key={priority}>\n              <input\n                id={`priority-${priority}`}\n                name=\"priority\"\n                type=\"radio\"\n                onChange={handleChange}\n                value={priority}\n                checked={formData.priority == priority}\n              />\n              <label>{priority}</label>\n            </div>\n          ))}\n        </div>\n\n        <label>Progress</label>\n        <input\n          type=\"range\"\n          id=\"progress\"\n          name=\"progress\"\n          value={formData.progress}\n          min=\"0\"\n          max=\"100\"\n          onChange={handleChange}\n        />\n        <label>Status</label>\n        <select name=\"status\" value={formData.status} onChange={handleChange}>\n          <option value=\"not started\">Not Started</option>\n          <option value=\"started\">Started</option>\n          <option value=\"done\">Done</option>\n        </select>\n\n        <input\n          type=\"submit\"\n          className=\"btn max-w-xs\"\n          value={EDITMODE ? \"Update Ticket\" : \"Create Ticket\"}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default EditTicketForm;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 280, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///home/frank/Documents/projects%20/ticketing_app/app/TicketPage/%5Bid%5D/page.jsx"],"sourcesContent":["import EditTicketForm from \"@/app/(components)/EditTicketForm\";\n\nconst getTicketById = async (id) => {\n  try {\n    const res = await fetch(`http://localhost:3000/api/Tickets/${id}`, {\n      cache: \"no-store\",\n    });\n\n    if (!res.ok) {\n      throw new Error(\"Failed to fetch ticket\");\n    }\n\n    return res.json();\n  } catch (error) {\n    console.log(error);\n    return null; // In case of error, return null to handle gracefully\n  }\n};\n\nconst TicketPage = async ({ params }) => {\n  const { id } = params; // Destructure `id` from `params`\n\n  const EDITMODE = id === \"new\" ? false : true;\n  let updateTicketData = {};\n\n  if (EDITMODE) {\n    // Fetch the ticket if not \"new\"\n    const ticketData = await getTicketById(id);\n    updateTicketData = ticketData ? ticketData.foundTicket : {};\n  } else {\n    // If it's \"new\", set up the data for creating a new ticket\n    updateTicketData = {\n      _id: \"new\",\n    };\n  }\n\n  return <EditTicketForm ticket={updateTicketData} />;\n};\n\nexport default TicketPage;\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,gBAAgB,OAAO;IAC3B,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,CAAC,kCAAkC,EAAE,IAAI,EAAE;YACjE,OAAO;QACT;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,IAAI,IAAI;IACjB,EAAE,OAAO,OAAO;QACd,QAAQ,GAAG,CAAC;QACZ,OAAO,MAAM,qDAAqD;IACpE;AACF;AAEA,MAAM,aAAa,OAAO,EAAE,MAAM,EAAE;IAClC,MAAM,EAAE,EAAE,EAAE,GAAG,QAAQ,iCAAiC;IAExD,MAAM,WAAW,OAAO,QAAQ,QAAQ;IACxC,IAAI,mBAAmB,CAAC;IAExB,IAAI,UAAU;QACZ,gCAAgC;QAChC,MAAM,aAAa,MAAM,cAAc;QACvC,mBAAmB,aAAa,WAAW,WAAW,GAAG,CAAC;IAC5D,OAAO;QACL,2DAA2D;QAC3D,mBAAmB;YACjB,KAAK;QACP;IACF;IAEA,qBAAO,8OAAC,wIAAA,CAAA,UAAc;QAAC,QAAQ;;;;;;AACjC;uCAEe"}},
    {"offset": {"line": 330, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 341, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}